---
import Yo from '../assets/imgs/yo.webp'
import Pill from './Pill.astro'
import Email from '../assets/icons/Mail.astro'
import GitHub from '../assets/icons/GitHub.astro'
import LinkedIn from '../assets/icons/LinkedIn.astro'
import Send from '../assets/icons/Send.astro'
import Copy from '../assets/icons/Copy.astro'
---

<div class="flex flex-col text-left w-full place-items-center">
  <section class="grid gap-3 text-white">
    <img src={Yo.src} alt='It should be me' class="md:w-24 w-16 h-auto md:rounded rounded" loading="lazy"/>
    <div class="flex flex-row items-center gap-1">
      <h1 class="md:text-3xl text-2xl">Hey, I'm Rosendo Garcia</h1>
      <a href="https://www.linkedin.com/in/rosendo-garcia-a498b9279/" target="_blank" class="text-blue-700 transition bg-slate-300 hover:text-white border border-blue-700 hover:bg-blue-800 font-medium rounded-lg md:text-sm text-xs px-2 py-1 text-center me-3 mb-2">
        Available for hire
      </a>
    </div>
    <p class="text-lg"><span class="text-emerald-400">Greetings from San Miguel, El Salvador!</span>, I'm a web developer navigating the dizzying world of technology, with a special focus on clever solutions in <span class="text-yellow-200">JavaScript using Node.js</span>. Eager to learn and motivated by innovation, <span class="text-violet-500">I design digital experiences that blend functionality with elegance</span>, like an expert chef mixing the perfect ingredients for a technological feast!</p>
  </section>
  <nav class="flex gap-4 mt-8 flex-wrap md:w-[70%] w-[90%] mx-auto justify-center">
    <Pill href="https://github.com/Roosendo">
      <GitHub class="md:size-5 size-4 text-emerald-400" />
      <span class="text-white/80 md:text-base text-sm">GitHub</span>
    </Pill>
    <Pill href="https://www.linkedin.com/in/rosendo-garcia-a498b9279/">
      <LinkedIn class="md:size-5 size-4 text-emerald-400" />
      <span class="text-white/80 md:text-base text-sm">LinkedIn</span>
    </Pill>
  </nav>
  <div class="hidden items-center p-4 m-4 text-sm rounded-lg bg-gray-800 text-blue-400" role="alert" id="alert-ok">
    <svg class="flex-shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
      <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
    </svg>
    <span class="sr-only">Info</span>
    <div>
      <span class="font-medium">Info alert!</span> Copied Successfully!
    </div>
  </div>
  <div class="hidden items-center p-4 m-4 text-sm rounded-lg bg-gray-800 text-red-400" id="alert-no" role="alert">
    <svg class="flex-shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
      <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
    </svg>
    <span class="sr-only">Info</span>
    <div>
      <span class="font-medium">Danger alert!</span> Failed to copy!
    </div>
  </div>
  <div class="flex flex-row p-1 gap-3 text-white items-center w-full my-4">
    <Email class="md:size-5 size-4" />
    <h3 class="md:text-base text-md">Email</h3>
  </div>
  <div class="flex flex-row gap-4 w-full justify-center">
    <div class="inline-flex rounded-md shadow-sm w-full justify-center" role="group">
      <div class="inline-flex items-center px-3 py-2 text-white bg-transparent border border-gray-200 rounded-s-lg">
        <p class="md:text-base text-xs">rosendo.garcia73@outlook.com</p>
      </div>
      <a href="mailto:rosendo.garcia73@outlook.com" class="inline-flex items-center px-3 py-2 gap-1 text-gray-900 bg-white/80 border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">
        <Send class="md:size-5 size-4 text-violet-500" />
      </a>
      <button type="button" id="to-copy" class="inline-flex items-center px-3 py-2 gap-1 text-gray-900 bg-white/80 border border-gray-200 rounded-e-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">
        <Copy class="md:size-5 size-4 text-violet-500" />
      </button>
    </div>
  </div>
</div>

<script>
  const email = 'rosendo.garcia73@outlook.com'
  const button = document.getElementById('to-copy')
  const alertOk = document.getElementById('alert-ok')
  const alertNo = document.getElementById('alert-no')

  button.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(email)
      alertOk.style.display = 'flex'
      setTimeout(() => {
        alertOk.style.display = 'none'
      }, 2000)
    } catch (err) {
      alertNo.style.display = 'flex'
      setTimeout(() => {
        alertNo.style.display = 'none'
      }, 2000)
    }
  })

</script>
